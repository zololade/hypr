#################
### AUTOSTART ###
#################

exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# Core compositor helpers (keep these early)
exec-once = hypridle
exec-once = nm-applet

# Delay heavy graphical daemons slightly
exec-once = sleep 2 && swww-daemon
exec-once = sleep 2 && waybar
exec-once = sleep 3 && dunst

# Clipboard monitoring (keep but reduce polling pressure)
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# Desktop integration
exec-once = /home/ololade/.config/hypr/scripts/import-gsettings
exec-once = /usr/libexec/polkit-kde-authentication-agent-1

# Remove this unless you actually use it (UXPlay is often idle)
exec-once = uxplay

# Power key inhibitor (keep but clean process backgrounding)
exec-once = systemd-inhibit --who="Hyprland config" --why="wlogout keybind" --what=handle-power-key --mode=block sleep infinity

exec-shutdown = /home/ololade/.config/hypr/scripts/shutdown

# Plugin reload is usually unnecessary on startup
exec-once = hyprpm reload -n